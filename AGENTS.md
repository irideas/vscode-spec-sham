# AI Agent 协作规范

## 沟通语言
- 所有文档、提交信息、评审讨论及与 AI Agent 的交互统一使用简体中文。
- 引用外文规范或资料时，请同时给出中文释义，避免理解偏差。

## 基本协作流程
- 开始实现前先明确需求、约束与产出路径，必要时用简要计划对齐。
- 每次运行命令或修改文件后，在回复中说明目的与结果；涉及风险操作需提前声明。
- 版本号遵循 SemVer，并与 `CHANGELOG.md` 保持一致；新增功能或修复在 `CHANGELOG.md` 顶部段落说明背景与验证。
- 提交前建议至少运行 `npm test`、`npm run build`；若未执行或结果异常，需在说明中标明原因。
- 禁止覆盖用户已有的未提交变更，除非得到明确指示。

## 提交与分支规范
- 提交信息遵循 Conventional Commits，主题使用中文并包含上下文前缀（如 `feat(tree-view): ...` / `docs(site): ...`），正文使用 `- ` 列表；命令行建议多个 `-m`，避免写字面量 `\n`。
- 每次提交需确保 `npm run docs:build`、`npm run lint`（若配置）或 `npm run test` 在本地通过；若因环境限制无法执行，需在提交描述中记录障碍。
- 新开分支命名为 `feature/spec-*`、`docs/spec-*` 或 `fix/spec-*` 等可读格式，避免使用个人名称；推送前确认分支与 PR 描述同步。
- 废弃或覆盖既有规范内容时，先在 `agents/session-summary.md` 记录原因，再提交代码。

## 智能体工作区
- 仓库根目录下的 `agents/` 为智能体记录区，包含 `session-summary.md` 等协作产物；所有阶段性结论、风险与待办应写入该目录。
- 若本仓库及子目录存在多个 `AGENTS.md`，以离目标文件最近的版本为准；若需覆盖其中规则，必须在 `agents/session-summary.md` 记录原因。
- 显式的人类指令优先生效；如与本规范冲突，请完成指令并在 `agents/session-summary.md` 备注差异。
- 程序化检查（如本规范或脚本要求的 `npm test`、`npm run build`）在涉及代码或文档变更时需确保可执行且通过，无法执行时说明障碍。

## 变更记录
- 2025-12-05：重写规范，精简通用约束并将智能体记录目录调整为 `agents/`。
